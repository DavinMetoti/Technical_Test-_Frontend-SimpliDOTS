"use strict";(self.webpackChunkdapp_movie=self.webpackChunkdapp_movie||[]).push([[848],{3848:(M,h,n)=>{n.r(h),n.d(h,{DashboardModule:()=>x});var l=n(6814),c=n(95),m=n(1913),r=n(11),t=n(4769),f=n(3859),v=n(2526),p=n(6022),d=n(7680);const C=function(e){return["/detail/movie",e]};function y(e,u){if(1&e){const s=t.EpF();t.TgZ(0,"div",6)(1,"a",7)(2,"div",8),t._UZ(3,"img",9),t.TgZ(4,"div",10)(5,"h5",11),t._uU(6),t.qZA()(),t.TgZ(7,"div",12)(8,"p-rating",13),t.NdJ("ngModelChange",function(o){const g=t.CHM(s).$implicit;return t.KtG(g.rate=o)}),t.qZA()()()()()}if(2&e){const s=u.$implicit,i=t.oxw();t.xp6(1),t.Q6J("routerLink",t.VKq(7,C,s.id)),t.xp6(2),t.Q6J("src",null!=s.poster_path?i.img+s.poster_path:"./assets/layout/images/no-poster.jpg",t.LSH)("alt",s.title),t.xp6(3),t.Oqu(s.title),t.xp6(2),t.Q6J("ngModel",s.rate)("readonly",!0)("cancel",!1)}}function A(e,u){1&e&&t._UZ(0,"p-progressSpinner",14)}let T=(()=>{class e{constructor(s,i,o){this.layoutService=s,this.api=i,this.route=o,this.movie=[],this.patch="",this.pages=1,this.loading=!1}ngOnInit(){this.language=JSON.parse(localStorage.getItem("language")),this.route.params.subscribe(s=>{const i=s.category;"now_playing"===i?(this.patch=i,this.title="id"==this.language.iso_639_1?"SEDANG TAYANG":"NOW PLAYING"):"popular"===i?(this.patch=i,this.title="id"==this.language.iso_639_1?"POPULER":"PUPULAR"):"upcoming"===i&&(this.patch=i,this.title="id"==this.language.iso_639_1?"SEGERA TAYANG":"UP COMING"),this.resetComponent()})}resetComponent(){this.getConfiguration(),this.movie=[],this.pages=1,this.loading=!1,this.loadMovie(this.pages)}loadMovie(s){let i=this.patch;this.loading||(this.loading=!0,this.api.tmdbApi(i,s).subscribe(o=>{this.data=o;for(let a=0;a<o.results.length;a++)o.results[a].rate=o.results[a].vote_average/2;this.movie=this.movie.concat(o.results),this.pages=s,this.loading=!1}))}onScroll(s){const i=window.scrollY+window.innerHeight,o=document.documentElement.scrollHeight;this.pages<=this.data.total_pages&&i>=o-200&&!this.loading&&this.loadMovie(this.pages+1)}getConfiguration(){this.api.config().subscribe(s=>{this.configuration=s,this.img=this.configuration.images.secure_base_url+"w342/"})}static#t=this.\u0275fac=function(i){return new(i||e)(t.Y36(f.P),t.Y36(v.s),t.Y36(r.gz))};static#i=this.\u0275cmp=t.Xpm({type:e,selectors:[["ng-component"]],hostBindings:function(i,o){1&i&&t.NdJ("scroll",function(g){return o.onScroll(g)},!1,t.Jf7)},decls:10,vars:4,consts:[[1,"p-fluid"],[1,"col-12"],[1,"grid"],["class","col-6 lg:col-3",4,"ngFor","ngForOf"],[1,"justify-content-center","text-center"],["styleClass","w-4rem h-4rem ","strokeWidth","8","fill","var(--surface-ground)","animationDuration",".5s",4,"ngIf"],[1,"col-6","lg:col-3"],[3,"routerLink"],[1,"field"],["loading","lazy","width","100%",2,"border-radius","10px",3,"src","alt"],[1,"text-center"],[1,"title-movie"],[1,"mt-2","text-center"],["size","small",3,"ngModel","readonly","cancel","ngModelChange"],["styleClass","w-4rem h-4rem ","strokeWidth","8","fill","var(--surface-ground)","animationDuration",".5s"]],template:function(i,o){1&i&&(t.TgZ(0,"h2"),t._uU(1),t.qZA(),t.TgZ(2,"p"),t._uU(3),t.qZA(),t.TgZ(4,"div",0)(5,"div",1)(6,"div",2),t.YNc(7,y,9,9,"div",3),t.qZA()()(),t.TgZ(8,"div",4),t.YNc(9,A,1,0,"p-progressSpinner",5),t.qZA()),2&i&&(t.xp6(1),t.Oqu(o.title),t.xp6(2),t.Oqu("id"==o.language.iso_639_1?"KATEGORI":"CATEGORY"),t.xp6(4),t.Q6J("ngForOf",o.movie),t.xp6(2),t.Q6J("ngIf",o.loading))},dependencies:[l.sg,l.O5,c.JJ,c.On,r.rH,p.iG,d.G],encapsulation:2})}return e})(),Z=(()=>{class e{static#t=this.\u0275fac=function(i){return new(i||e)};static#i=this.\u0275mod=t.oAB({type:e});static#s=this.\u0275inj=t.cJS({imports:[r.Bz.forChild([{path:"",redirectTo:"now_playing",pathMatch:"full"},{path:":category",component:T}]),r.Bz]})}return e})(),x=(()=>{class e{static#t=this.\u0275fac=function(i){return new(i||e)};static#i=this.\u0275mod=t.oAB({type:e});static#s=this.\u0275inj=t.cJS({imports:[l.ez,c.u5,m.l,Z,p.Xt,d.L]})}return e})()}}]);