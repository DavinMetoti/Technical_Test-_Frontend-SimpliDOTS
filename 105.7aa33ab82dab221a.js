"use strict";(self.webpackChunkdapp_movie=self.webpackChunkdapp_movie||[]).push([[105],{8105:(N,p,a)=>{a.r(p),a.d(p,{ProfileModule:()=>w});var d=a(6814),g=a(95),r=a(11),u=a(5219),t=a(4769),_=a(2526),m=a(6022),h=a(707),f=a(7680),v=a(6451);function x(e,l){if(1&e&&(t.TgZ(0,"div",9),t._UZ(1,"img",10),t.TgZ(2,"h5"),t._uU(3),t.qZA()()),2&e){const i=t.oxw(2);t.xp6(3),t.Oqu("id"==i.language.iso_639_1?"Tidak ada film yang ditambahkan":"No film added.")}}const C=function(e){return["/detail/movie",e]};function T(e,l){if(1&e){const i=t.EpF();t.TgZ(0,"div",14)(1,"div",15)(2,"a",16),t._UZ(3,"img",17),t.qZA(),t.TgZ(4,"div",3)(5,"div",18)(6,"div",19)(7,"h5",20),t._uU(8),t.qZA()(),t.TgZ(9,"div",21)(10,"p-rating",22),t.NdJ("ngModelChange",function(n){const c=t.CHM(i).$implicit;return t.KtG(c.rate=n)}),t.qZA()()(),t.TgZ(11,"div",23)(12,"button",24),t.NdJ("click",function(){const s=t.CHM(i).$implicit,c=t.oxw(3);return t.KtG(c.removeFavorit(s.id))}),t.qZA()()()()()}if(2&e){const i=l.$implicit,o=t.oxw(3);t.xp6(2),t.Q6J("routerLink",t.VKq(7,C,i.id)),t.xp6(1),t.Q6J("src",null!=i.poster_path?o.img+i.poster_path:"./assets/layout/images/no-poster.jpg",t.LSH)("alt",i.title),t.xp6(5),t.Oqu(i.title),t.xp6(2),t.Q6J("ngModel",i.rate)("readonly",!0)("cancel",!1)}}function Z(e,l){if(1&e&&(t.TgZ(0,"div",11)(1,"div",12)(2,"div",3),t.YNc(3,T,13,9,"div",13),t.qZA()()()),2&e){const i=t.oxw(2);t.xp6(3),t.Q6J("ngForOf",i.movie)}}const A=function(){return{width:"100px",height:"100px","border-radius":"50%",overflow:"hidden"}},y=function(){return{width:"100%",height:"100%","object-fit":"cover"}};function J(e,l){if(1&e&&(t.TgZ(0,"div")(1,"div",3)(2,"div",4)(3,"div",5),t._UZ(4,"img",6),t.qZA(),t.TgZ(5,"h2"),t._uU(6),t.qZA()()(),t._UZ(7,"hr"),t.TgZ(8,"h2"),t._uU(9),t.TgZ(10,"h4"),t._uU(11),t.qZA()(),t.YNc(12,x,4,1,"div",7),t.YNc(13,Z,4,1,"div",8),t.qZA()),2&e){const i=t.oxw();t.xp6(3),t.Akn(t.DdM(11,A)),t.xp6(1),t.Akn(t.DdM(12,y)),t.Q6J("src",null!=i.data.avatar.tmdb.avatar_path?i.img+i.data.avatar.tmdb.avatar_path:"./assets/layout/images/user.png",t.LSH),t.xp6(2),t.AsE("","id"==i.language.iso_639_1?"SELAMAT DATANG":"WELCOME"," ",i.data.name.toUpperCase(),""),t.xp6(3),t.hij("","id"==i.language.iso_639_1?"FAVORIT":"FAVORITE"," "),t.xp6(2),t.hij("","id"==i.language.iso_639_1?"FILM":"MOVIE"," "),t.xp6(1),t.Q6J("ngIf",0==i.movie.length),t.xp6(1),t.Q6J("ngIf",i.movie.length>0)}}function I(e,l){1&e&&t._UZ(0,"p-progressSpinner",25)}let M=(()=>{class e{constructor(i,o,n,s){this.api=i,this.route=o,this.message=n,this.router=s,this.movie=[],this.loading=!1,this.pages=1,this.title=""}ngOnInit(){this.language=JSON.parse(localStorage.getItem("language")),this.route.params.subscribe(o=>{this.id=o.id,this.resetComponent()}),localStorage.getItem("account")||this.router.navigate([window.location.origin+"list/category/now_playing"])}detailProfile(i){this.loading||(this.loading=!0,this.api.detailAccount(i).subscribe(o=>{this.data=o,this.loading=!1}))}loadMovie(i,o){this.loading=!0,this.api.getFavorit(i,o).subscribe(n=>{this.movieData=n;for(let s=0;s<n.results.length;s++)n.results[s].rate=n.results[s].vote_average/2;this.movie=this.movie.concat(n.results),this.pages=i,this.loading=!1})}resetComponent(){this.pages=1,this.loading=!1,this.detailProfile(this.id),this.loadMovie(this.pages,this.id),this.getConfiguration()}getConfiguration(){this.api.config().subscribe(i=>{this.configuration=i,this.img=this.configuration.images.secure_base_url+"w342/"})}onScroll(i){const o=window.scrollY+window.innerHeight,n=document.documentElement.scrollHeight;this.pages<=this.movieData.total_pages&&o>=n-200&&!this.loading&&this.loadMovie(this.pages+1,this.id)}removeFavorit(i){const o=JSON.parse(localStorage.getItem("account"));this.api.addFavorit({media_type:"movie",media_id:i,favorite:!1},o.id).subscribe(s=>{this.message.add({severity:"warn",summary:"ATTENTION",detail:s.status_message}),window.location.reload()},s=>{this.message.add({severity:"error",summary:"FAILED",detail:"To add Favorit"})})}static#t=this.\u0275fac=function(o){return new(o||e)(t.Y36(_.s),t.Y36(r.gz),t.Y36(u.ez),t.Y36(r.F0))};static#i=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-profile"]],hostBindings:function(o,n){1&o&&t.NdJ("scroll",function(c){return n.onScroll(c)},!1,t.Jf7)},features:[t._Bn([u.ez])],decls:4,vars:2,consts:[[4,"ngIf"],[1,"justify-content-center","text-center"],["styleClass","w-4rem h-4rem ","strokeWidth","8","fill","var(--surface-ground)","animationDuration",".5s",4,"ngIf"],[1,"grid"],[1,"col-12","flex","align-content-center","flex-wrap","justify-content-center"],[1,"mr-3"],["alt","Image",3,"src"],["class","text-center justify-content-center",4,"ngIf"],["class","p-fluid",4,"ngIf"],[1,"text-center","justify-content-center"],["src","./assets/layout/images/no-added.svg","width","30%","alt","No Add"],[1,"p-fluid"],[1,"col-12"],["class","col-6 lg:col-3",4,"ngFor","ngForOf"],[1,"col-6","lg:col-3"],[1,"field"],[3,"routerLink"],["loading","lazy","width","100%",2,"border-radius","10px",3,"src","alt"],[1,"col-6"],[1,"text-left"],[1,"title-movie"],[1,"mt-2","text-left"],["size","small",3,"ngModel","readonly","cancel","ngModelChange"],[1,"col-6","text-right"],["pButton","","icon","pi pi-trash",1,"p-button","p-button-outlined","p-button-danger",3,"click"],["styleClass","w-4rem h-4rem ","strokeWidth","8","fill","var(--surface-ground)","animationDuration",".5s"]],template:function(o,n){1&o&&(t._UZ(0,"p-toast"),t.YNc(1,J,14,13,"div",0),t.TgZ(2,"div",1),t.YNc(3,I,1,0,"p-progressSpinner",2),t.qZA()),2&o&&(t.xp6(1),t.Q6J("ngIf",null!=n.data),t.xp6(2),t.Q6J("ngIf",n.loading))},dependencies:[d.sg,d.O5,r.rH,g.JJ,g.On,m.iG,h.Hq,f.G,v.FN],encapsulation:2})}return e})(),F=(()=>{class e{static#t=this.\u0275fac=function(o){return new(o||e)};static#i=this.\u0275mod=t.oAB({type:e});static#e=this.\u0275inj=t.cJS({imports:[r.Bz.forChild([{path:":id",component:M}]),r.Bz]})}return e})();var P=a(1913);let w=(()=>{class e{static#t=this.\u0275fac=function(o){return new(o||e)};static#i=this.\u0275mod=t.oAB({type:e});static#e=this.\u0275inj=t.cJS({imports:[d.ez,F,g.u5,m.Xt,P.l,h.hJ,f.L,v.EV]})}return e})()}}]);